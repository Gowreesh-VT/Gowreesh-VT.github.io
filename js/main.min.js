(a=>{a(window).load(function(){a("#loader").fadeOut("slow",function(){a("#preloader").delay(300).fadeOut("slow")})}),setTimeout(function(){a("#intro h1").fitText(1,{minFontSize:"42px",maxFontSize:"84px"})},100),a(".fluid-video-wrapper").fitVids(),a("#owl-slider").owlCarousel({navigation:!1,pagination:!0,itemsCustom:[[0,1],[700,2],[960,3]],navigationText:!1}),a(".alert-box").on("click",".close",function(){a(this).parent().fadeOut(500)});var e=a("#stats"),t=a(".stat-count"),s=(e.waypoint({handler:function(e){"down"===e&&t.each(function(){var t=a(this);a({Counter:0}).animate({Counter:t.text()},{duration:4e3,easing:"swing",step:function(e){t.text(Math.ceil(e))}})}),this.destroy()},offset:"90%"}),a("#folio-wrapper")),o=(s.imagesLoaded(function(){s.masonry({itemSelector:".folio-item",resize:!0})}),a(".item-wrap a").magnificPopup({type:"inline",fixedContentPos:!1,removalDelay:300,showCloseBtn:!1,mainClass:"mfp-fade"}),a(document).on("click",".popup-modal-dismiss",function(e){e.preventDefault(),a.magnificPopup.close()}),a(".menu-toggle")),n=a(".main-navigation"),e=(o.on("click",function(e){e.preventDefault(),o.toggleClass("is-clicked"),n.slideToggle()}),n.find("li a").on("click",function(){o.toggleClass("is-clicked"),n.fadeOut()}),a("section")),i=a("#main-nav-wrap li a"),e=(e.waypoint({handler:function(e){var t=a("section#"+this.element.id),e=("up"===e&&(t=t.prev()),a('#main-nav-wrap a[href="#'+t.attr("id")+'"]'));i.parent().removeClass("current"),e.parent().addClass("current")},offset:"25%"}),a(".smoothscroll").on("click",function(e){e.preventDefault();var t=this.hash,e=a(t);a("html, body").stop().animate({scrollTop:e.offset().top},800,"swing",function(){window.location.hash=t})}),a("input, textarea, select").placeholder(),a(document).ready(function(){emailjs.init("1BrKWedfyV4KlnKOy"),a("#contactForm").on("submit",function(e){e.preventDefault(),a("#submit-loader").fadeIn(),a("#message-warning").hide(),a("#message-success").hide();e={name:a("#contactName").val().trim(),email:a("#contactEmail").val().trim(),subject:a("#contactSubject").val().trim()||"New Contact from Portfolio",message:a("#contactMessage").val().trim()};e.name&&e.email&&e.message?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)?e.name.length<2?(a("#submit-loader").fadeOut(),a("#message-warning").text("Name must be at least 2 characters long.").fadeIn()):e.message.length<10?(a("#submit-loader").fadeOut(),a("#message-warning").text("Message must be at least 10 characters long.").fadeIn()):emailjs.send("service_z51rmrb","template_luqwsrp",{from_name:e.name,from_email:e.email,subject:e.subject,message:e.message}).then(function(e){a("#submit-loader").fadeOut(),a("#message-success").text("Thank you! Your message has been sent successfully.").fadeIn(),a("#contactForm")[0].reset(),setTimeout(function(){a("#message-success").fadeOut()},5e3),console.log("Email sent successfully:",e)}).catch(function(e){a("#submit-loader").fadeOut(),console.error("EmailJS error details:",e),console.error("Error status:",e.status),console.error("Error text:",e.text);let t="Sorry, there was an error sending your message. ";412===e.status?t+="EmailJS service not configured properly. Please check your service configuration.":400===e.status?t+="Invalid email template or service ID. Please verify your EmailJS settings.":401===e.status?t+="Authentication failed. Please check your EmailJS public key.":402===e.status?t+="EmailJS quota exceeded. Please upgrade your plan or try again later.":403===e.status?t+="Access forbidden. Please check your EmailJS service permissions.":404===e.status?t+="EmailJS service or template not found. Please verify your IDs.":e.text&&e.text.includes("Template")?t+="Template configuration error. Please check your email template variables.":t+="Network or server error. Please try again later.",a("#message-warning").html(t+"<br><small>Error details logged to console (F12)</small>").fadeIn()}):(a("#submit-loader").fadeOut(),a("#message-warning").text("Please enter a valid email address.").fadeIn()):(a("#submit-loader").fadeOut(),a("#message-warning").text("Please fill in all required fields.").fadeIn())})}),jQuery(window).scroll(function(){a("#header-search").hasClass("is-visible")||(300<=jQuery(window).scrollTop()?jQuery("#go-top").fadeIn(400):jQuery("#go-top").fadeOut(400))}),localStorage.getItem("theme")||"dark"),l=document.documentElement;"light"===e?l.classList.remove("dark-mode"):l.classList.add("dark-mode"),a("#theme-toggle-btn").on("click",function(){var e=document.documentElement;e.classList.contains("dark-mode")?(e.classList.remove("dark-mode"),localStorage.setItem("theme","light"),console.log("Switched to light mode")):(e.classList.add("dark-mode"),localStorage.setItem("theme","dark"),console.log("Switched to dark mode")),window.dispatchEvent(new Event("themeChanged"))}),a("#nav-toggle").on("click",function(){a(this).toggleClass("active"),a("#nav-menu").toggleClass("active")}),a(".nav-link").on("click",function(){a("#nav-toggle").removeClass("active"),a("#nav-menu").removeClass("active")}),a(document).on("click",function(e){a(e.target).closest(".nav-container").length||(a("#nav-toggle").removeClass("active"),a("#nav-menu").removeClass("active"))})})(jQuery);