class FormValidator{constructor(){this.validators={email:/^[^\s@]+@[^\s@]+\.[^\s@]+$/,name:/^[a-zA-Z\s]{2,}$/,subject:/^.{3,}$/,message:/^.{10,}$/},this.init()}init(){var e=document.getElementById("contactForm");e&&this.setupContactFormValidation(e),document.querySelectorAll("#login-form input, #signup-form input").forEach(e=>{this.setupInputValidation(e)})}setupContactFormValidation(e){e.querySelectorAll("input, textarea").forEach(e=>{e.addEventListener("input",e=>{this.validateField(e.target)}),e.addEventListener("blur",e=>{this.validateField(e.target)})})}setupInputValidation(e){var t,a=e.closest(".input-group")||e.parentElement;a.querySelector(".validation-feedback")||((t=document.createElement("div")).className="validation-feedback",a.appendChild(t)),e.addEventListener("input",e=>{this.validateField(e.target)}),e.addEventListener("blur",e=>{this.validateField(e.target)})}validateField(e){var t="email"===e.type?"email":e.name||e.id,a=e.value.trim(),s=e.closest(".input-group")||e.parentElement,r=s.querySelector(".validation-feedback");if(e.classList.remove("valid","invalid"),s.classList.remove("has-success","has-error"),""===a)return r&&(r.textContent=""),null;let i=!1,n="";switch(t){case"email":case"contactEmail":i=this.validators.email.test(a),n=i?"✓ Valid email":"✗ Please enter a valid email address";break;case"name":case"contactName":i=this.validators.name.test(a),n=i?"✓ Valid name":"✗ Name must be at least 2 characters";break;case"subject":case"contactSubject":i=this.validators.subject.test(a),n=i?"✓ Valid subject":"✗ Subject must be at least 3 characters";break;case"message":case"contactMessage":i=this.validators.message.test(a),n=i?"✓ Valid message":"✗ Message must be at least 10 characters";break;case"password":i=this.validatePassword(a),n=i.valid?"✓ Strong password":"✗ "+i.message,i=i.valid;break;default:i=0<a.length,n=i?"✓ Valid":"✗ This field is required"}return i?(e.classList.add("valid"),s.classList.add("has-success")):(e.classList.add("invalid"),s.classList.add("has-error")),r&&(r.textContent=n,r.className="validation-feedback "+(i?"success":"error")),i}validatePassword(e){e=[8<=e.length,/[A-Z]/.test(e),/[a-z]/.test(e),/\d/.test(e),/[!@#$%^&*(),.?":{}|<>]/.test(e)].filter(Boolean).length;return e<3?{valid:!1,message:"Password too weak. Include uppercase, lowercase, numbers."}:e<4?{valid:!0,message:"Medium strength password"}:{valid:!0,message:"Strong password"}}validateForm(e){e=e.querySelectorAll("input, textarea");let t=!0;return e.forEach(e=>{e.hasAttribute("required")&&!1===this.validateField(e)&&(t=!1)}),t}}class LoadingManager{constructor(){this.activeLoaders=new Set}show(e,t="Loading..."){t=this.createLoader(t),e="string"==typeof e?document.querySelector(e):e;return e?(t.originalContent=e.innerHTML,(t.targetElement=e).classList.add("loading-state"),e.appendChild(t),this.activeLoaders.add(t),t):null}hide(e){e&&e.targetElement&&(e.targetElement.classList.remove("loading-state"),e.parentNode&&e.parentNode.removeChild(e),this.activeLoaders.delete(e))}createLoader(e){var t=document.createElement("div");return t.className="enhanced-loader",t.innerHTML=`
      <div class="loader-spinner"></div>
      <div class="loader-message">${e}</div>
    `,t}showButtonLoader(e,t="Processing..."){let a="string"==typeof e?document.querySelector(e):e;if(!a)return null;let s=a.textContent,r=a.disabled;return a.disabled=!0,a.classList.add("btn-loading"),a.innerHTML=`
      <span class="btn-spinner"></span>
      <span class="btn-text">${t}</span>
    `,()=>{a.disabled=r,a.classList.remove("btn-loading"),a.textContent=s}}}class ToastManager{constructor(){this.container=this.createContainer()}createContainer(){let e=document.querySelector(".toast-container");return e||((e=document.createElement("div")).className="toast-container",document.body.appendChild(e)),e}show(e,t="info",a=5e3){let s=document.createElement("div");s.className="toast toast-"+t;t=this.getIcon(t);s.innerHTML=`
      <div class="toast-icon">${t}</div>
      <div class="toast-content">
        <div class="toast-message">${e}</div>
      </div>
      <button class="toast-close">&times;</button>
    `,this.container.appendChild(s),setTimeout(()=>s.classList.add("show"),100);let r=setTimeout(()=>this.remove(s),a);return s.querySelector(".toast-close").addEventListener("click",()=>{clearTimeout(r),this.remove(s)}),s}getIcon(e){var t={success:"✓",error:"✗",warning:"⚠",info:"ℹ"};return t[e]||t.info}remove(e){e.classList.add("removing"),setTimeout(()=>{e.parentNode&&e.parentNode.removeChild(e)},300)}success(e,t){return this.show(e,"success",t)}error(e,t){return this.show(e,"error",t)}warning(e,t){return this.show(e,"warning",t)}info(e,t){return this.show(e,"info",t)}}let formValidator=new FormValidator,loadingManager=new LoadingManager,toastManager=new ToastManager;window.formValidator=formValidator,window.loadingManager=loadingManager,window.toastManager=toastManager;