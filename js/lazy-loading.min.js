let imageObserver=new IntersectionObserver((e,r)=>{e.forEach(a=>{if(a.isIntersecting){let e=a.target;e.classList.add("loading"),e.src=e.dataset.src,e.onload=()=>{e.classList.remove("loading"),e.classList.add("loaded")},e.onerror=()=>{e.classList.remove("loading"),e.classList.add("error")},r.unobserve(e)}})},{rootMargin:"50px 0px",threshold:.01});function initLazyLoading(){var e=document.querySelectorAll("img[data-src]");"IntersectionObserver"in window?e.forEach(e=>{imageObserver.observe(e)}):e.forEach(e=>{e.src=e.dataset.src})}"loading"===document.readyState?document.addEventListener("DOMContentLoaded",initLazyLoading):initLazyLoading();